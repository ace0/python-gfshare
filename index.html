
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>python-gfshare 0.0.1 documentation &#8212; python-gfshare  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">python-gfshare  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-gfshare">
<span id="python-gfshare-version-documentation"></span><h1>python-gfshare 0.0.1 documentation<a class="headerlink" href="#module-gfshare" title="Permalink to this headline">¶</a></h1>
<p>This Python library implements <a class="reference external" href="https://en.wikipedia.org/wiki/Shamir%27s_Secret_Sharing">Shamir’s method for secret sharing</a> which can be used
to split an arbitrary secret into multiple parts.</p>
<p>Some number of those parts are then needed to recover the original file, but
any smaller combination of parts are useless to an attacker.</p>
<p>For instance, you might split a GPG key into a “3-of-5” share and put one share
on each of three computers and two shares on a USB memory stick. You can can
use the GPG key on any of those three computers using the memory stick, but if
the memory stick is lost you can recover the key by bringing the three
computers together.</p>
<p>Under the hood, it uses Daniel Silverstone’s <a class="reference external" href="http://www.digital-scurf.org/software/libgfshare">libgfshare</a> library.</p>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">gfshare</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shares</span> <span class="o">=</span> <span class="n">gfshare</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;secret&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shares</span>
<span class="go">{104: b&#39;1\x9cQ\xd8\xd3\xaf&#39;,</span>
<span class="go"> 164: b&#39;\x15\xa4\xcf7R\xd2&#39;,</span>
<span class="go"> 171: b&#39;&gt;\xf5*\xce\xa2\xe2&#39;,</span>
<span class="go"> 173: b&#39;d\xd1\xaaR\xa5\x1d&#39;,</span>
<span class="go"> 183: b&#39;\x0c\xb4Y\x8apC&#39;}</span>
</pre></div>
</div>
<p># We can always recombine if we still have all the original shares
&gt;&gt;&gt; gfshare.combine(shares)
b”secret”</p>
<p># Remove 2 shares. We can still reconstruct as we have 3/5
&gt;&gt;&gt; del shares[‘104’]
&gt;&gt;&gt; del shares[‘171’]
&gt;&gt;&gt; gfshare.combine(shares)
b”secret”</p>
<p># Remove another share; we cannot reconstruct the original secret
&gt;&gt;&gt; del shares[‘164’]
&gt;&gt;&gt; gfshare.combine(shares)
b’xeax87x99x06)x86’</p>
</div></blockquote>
<dl class="function">
<dt id="gfshare.combine">
<code class="descclassname">gfshare.</code><code class="descname">combine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gfshare.combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine a number of shares generated by <a class="reference internal" href="#gfshare.split" title="gfshare.split"><code class="xref py py-func docutils literal"><span class="pre">split()</span></code></a> to form the original secret.</p>
<p>If the share cannot be reconstructed, the result is undefined.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param shares:</th><td class="field-body">A dict of <code class="docutils literal"><span class="pre">int</span></code>, <code class="docutils literal"><span class="pre">bytes</span></code> pairs.</td>
</tr>
<tr class="field-even field"><th class="field-name">type shares:</th><td class="field-body">dict.</td>
</tr>
<tr class="field-odd field"><th class="field-name">returns:</th><td class="field-body">bytes – the original secret if available</td>
</tr>
<tr class="field-even field"><th class="field-name">raises:</th><td class="field-body">ValueError, TypeError, RuntimeError</td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="gfshare.split">
<code class="descclassname">gfshare.</code><code class="descname">split</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gfshare.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an “n-of-m” share of a given secret into a number of shares.</p>
<p>The threshold number of shares cannot exceed the total share count.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param threshold:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">The number of shares required to reconstruct the
secret (minimum: 1).</td>
</tr>
<tr class="field-even field"><th class="field-name">type threshold:</th><td class="field-body">int.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param sharecount:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">The total number of shares to make (minimum: 2)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type sharecount:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">int.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param secret:</th><td class="field-body">The secret to split.</td>
</tr>
<tr class="field-even field"><th class="field-name">type secret:</th><td class="field-body">bytes.</td>
</tr>
<tr class="field-odd field"><th class="field-name">returns:</th><td class="field-body">dict – the generated shares associated with their share number.</td>
</tr>
<tr class="field-even field"><th class="field-name">raises:</th><td class="field-body">ValueError, TypeError</td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">python-gfshare 0.0.1 documentation</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">python-gfshare  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017 © Chris Lamb.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.4.
    </div>
  </body>
</html>